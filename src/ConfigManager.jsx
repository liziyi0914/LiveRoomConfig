class ConfigManager {

  static default_config = {
    'define': {
      'ANIMALS': [
        {
          'data': 'DONKEY',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'MULE',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'BAT',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'PIG',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'SHEEP',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'COW',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'CHICKEN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'SQUID',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'WOLF',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'MUSHROOM_COW',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'OCELOT',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'IRON_GOLEM',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'HORSE',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'RABBIT',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'POLAR_BEAR',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'LLAMA',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'PARROT',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'VILLAGER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'TURTLE',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'COD',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'SALMON',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'PUFFERFISH',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'TROPICAL_FISH',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'DOLPHIN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'CAT',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'PANDA',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'TRADER_LLAMA',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'WANDERING_TRADER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'FOX',
          'type': 'monster',
          'weight': 10,
        },
      ],
      'MONSTERS': [
        {
          'data': 'ELDER_GUARDIAN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'WITHER_SKELETON',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'STRAY',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'HUSK',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'ZOMBIE_VILLAGER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'EVOKER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'VEX',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'VINDICATOR',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'ILLUSIONER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'CREEPER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'SKELETON',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'SPIDER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'GIANT',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'ZOMBIE',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'SLIME',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'GHAST',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'ZOMBIFIED_PIGLIN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'ENDERMAN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'CAVE_SPIDER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'SILVERFISH',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'BLAZE',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'MAGMA_CUBE',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'WITCH',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'ENDERMITE',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'GUARDIAN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'SHULKER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'PHANTOM',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'PILLAGER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'RAVAGER',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'HOGLIN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'PIGLIN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'ZOGLIN',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'PIGLIN_BRUTE',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'DROWNED',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'BEE',
          'type': 'monster',
          'weight': 10,
        },
      ],
      'BOSS': [
        {
          'data': 'ENDER_DRAGON',
          'type': 'monster',
          'weight': 10,
        },
        {
          'data': 'WITHER',
          'type': 'monster',
          'weight': 10,
        },
      ],
    },
    'lang': {
      'live.bind': '§a${player}§r 已绑定直播间 §c${roomTitle}',
      'live.unbind': '§a${player}§r 已解绑直播间',
      'live.start': '直播间模块已启动，正在连接至 §c${roomTitle}',
      'live.stop': '直播间模块已停止',
      'live.status.unbind': '§a${player}§r 当前未绑定直播间',
      'live.status.binding': '§a${player}§r 当前绑定直播间 §c${roomTitle}',
      'up.bind': '§a${player}§r 已绑定UP主 §c${name}',
      'up.unbind': '§a${player}§r 已解绑UP主',
      'up.start': 'UP主模块已启动，正在连接至 §c${name}',
      'up.stop': 'UP主模块已停止',
      'up.status.unbind': '§a${player}§r 当前未绑定UP主',
      'up.status.binding': '§a${player}§r 当前绑定UP主 §c${name}',
      'up.init': '§c${name}§r 目前粉丝数为 §b${fans}',
      'help': '/liveroom §e{live|up}§r §e{bind|unbind|start|stop|info}§r §a[...]§r',
      "reload": "开始重载配置",
      'broadcast': '§e[LR]§r ${content}',
      "error.wrong_arguments": "参数错误",
      "error.config_not_found": "找不到配置"
    },
    'live': {
      'default': {},
    },
    'up': {
      'time': 30,
      'msg': '${up} 涨了${fansDelta}个粉丝，当前粉丝总数为${fans}，${result}x${count} 已送达至 ${receiver}',
    },
  };

  static config = null;

  static monsterMap = {
    BAT: '蝙蝠',
    BEE: '蜜蜂',
    BLAZE: '烈焰人',
    CAT: '猫',
    CAVE_SPIDER: '洞穴蜘蛛',
    CHICKEN: '鸡',
    COD: '鳕鱼',
    COW: '牛',
    CREEPER: '苦力怕',
    DOLPHIN: '海豚',
    DONKEY: '驴',
    DROWNED: '溺尸',
    ELDER_GUARDIAN: '远古守卫者',
    ENDER_DRAGON: '末影龙',
    ENDERMAN: '末影人',
    ENDERMITE: '末影螨',
    EVOKER: '唤魔者',
    FOX: '狐狸',
    GHAST: '恶魂',
    GIANT: '巨人',
    GUARDIAN: '守卫者',
    HOGLIN: '疣猪兽',
    HORSE: '马',
    HUSK: '尸壳',
    ILLUSIONER: '幻术师',
    IRON_GOLEM: '铁傀儡',
    LLAMA: '羊驼',
    MAGMA_CUBE: '岩浆怪',
    MULE: '骡',
    MUSHROOM_COW: '哞菇',
    OCELOT: '豹猫',
    PANDA: '熊猫',
    PARROT: '鹦鹉',
    PHANTOM: '幻翼',
    PIG: '猪',
    PIGLIN: '猪灵',
    PIGLIN_BRUTE: '猪灵蛮兵',
    PILLAGER: '掠夺者',
    POLAR_BEAR: '北极熊',
    PUFFERFISH: '河豚',
    RABBIT: '兔子',
    RAVAGER: '劫掠兽',
    SALMON: '鲑鱼',
    SHEEP: '绵羊',
    SHULKER: '潜影贝',
    SILVERFISH: '蠹虫',
    SKELETON: '骷髅',
    SKELETON_HORSE: '骷髅马',
    SLIME: '史莱姆',
    SPIDER: '蜘蛛',
    SQUID: '鱿鱼',
    STRAY: '流浪者',
    STRIDER: '炽足兽',
    TRADER_LLAMA: '行商羊驼',
    TROPICAL_FISH: '热带鱼',
    TURTLE: '海龟',
    VEX: '恼鬼',
    VILLAGER: '村民',
    VINDICATOR: '卫道士',
    WANDERING_TRADER: '流浪商人',
    WITCH: '女巫',
    WITHER: '凋灵',
    WITHER_SKELETON: '凋灵骷髅',
    WOLF: '狼',
    ZOGLIN: '僵尸疣猪兽',
    ZOMBIE: '僵尸',
    ZOMBIE_HORSE: '僵尸马',
    ZOMBIE_VILLAGER: '僵尸猪人',
    ZOMBIFIED_PIGLIN: '僵尸猪灵',
  };

  static save() {
    window.localStorage.setItem('lr.cfg',JSON.stringify(ConfigManager.config));
  }

  static load() {
    ConfigManager.config = JSON.parse(window.localStorage.getItem('lr.cfg'));
  }

  static reset() {
    ConfigManager.config = ConfigManager.default_config;
    ConfigManager.save();
    ConfigManager.load();
  }

  static init() {
    if (ConfigManager.config===null) {
      if(window.localStorage.getItem('lr.cfg')===null) {
        ConfigManager.reset();
      } else {
        ConfigManager.load();
      }
    }
  }

  static getConfig() {
    ConfigManager.init();
    return ConfigManager.config;
  }

  static getDefine() {
    ConfigManager.init();
    return ConfigManager.config?.define;
  }

  static setDefine(define) {
    ConfigManager.config['define'] = define;
    ConfigManager.save();
  }

  static getLang() {
    ConfigManager.init();
    return ConfigManager.config?.lang;
  }

  static setLang(lang) {
    ConfigManager.config['lang'] = lang;
    ConfigManager.save();
  }

  static getLive() {
    ConfigManager.init();
    return ConfigManager.config?.live;
  }

  static setLive(live) {
    return ConfigManager.config['live'] = live;
    ConfigManager.save();
  }

  static getLiveDefine(live) {
    ConfigManager.init();
    return ConfigManager.config?.live?.[live]?.define ?? {};
  }

  static setLiveDefine(live, define) {
    ConfigManager.config.live[live].define = define;
    ConfigManager.save();
  }

  static getLiveGift(live) {
    ConfigManager.init();
    return ConfigManager.config?.live?.[live]?.gift ?? {};
  }

  static setLiveGift(live, gift) {
    ConfigManager.config.live[live].gift = gift;
    ConfigManager.save();
  }

  static getLiveDanmaku(live) {
    ConfigManager.init();
    return ConfigManager.config?.live?.[live]?.danmaku ?? {};
  }

  static setLiveDanmaku(live, danmaku) {
    ConfigManager.config.live[live].danmaku = danmaku;
    ConfigManager.save();
  }

  static getUp() {
    ConfigManager.init();
    return ConfigManager.config?.up;
  }

  static setUp(up) {
    ConfigManager.config['up'] = up;
    ConfigManager.save();
  }

}

export default ConfigManager;
